{"ast":null,"code":"var exec = require('child_process').exec;\n\nvar macProvider = '/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport';\n\nfunction parseAirport(terms, str) {\n  var lines = str.split('\\n');\n  var colSsid = 0;\n  var colMac = lines[0].indexOf(terms.BSSID);\n  var colRssi = lines[0].indexOf(terms.RSSI);\n  var colChannel = lines[0].indexOf(terms.CHANNEL);\n  var colHt = lines[0].indexOf(terms.HT);\n  var colSec = lines[0].indexOf(terms.SECURITY); //var colCC = lines[0].indexOf(terms.CC);\n\n  var wifis = [];\n\n  for (var i = 1, l = lines.length; i < l; i++) {\n    wifis.push({\n      'mac': lines[i].substr(colMac, colRssi - colMac).trim(),\n      'ssid': lines[i].substr(0, colMac).trim(),\n      'channel': lines[i].substr(colChannel, colHt - colChannel).trim(),\n      'signal_level': lines[i].substr(colRssi, colChannel - colRssi).trim(),\n      'security': lines[i].substr(colSec).trim()\n    });\n  }\n\n  wifis.pop();\n  return wifis;\n}\n\nfunction scan(terms, callback) {\n  exec(macProvider + ' -s', function (err, stdout, stderr) {\n    if (err) {\n      callback(err, null);\n      return;\n    }\n\n    callback(null, parseAirport(terms, stdout));\n  });\n}\n\nexports.scan = scan;\nexports.utility = macProvider;\nexports.parse = parseAirport;","map":{"version":3,"sources":["/home/radhouene/Bureau/admin/folder/VALENTANO/node_modules/node-wifiscanner2/lib/airport.js"],"names":["exec","require","macProvider","parseAirport","terms","str","lines","split","colSsid","colMac","indexOf","BSSID","colRssi","RSSI","colChannel","CHANNEL","colHt","HT","colSec","SECURITY","wifis","i","l","length","push","substr","trim","pop","scan","callback","err","stdout","stderr","exports","utility","parse"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,eAAD,CAAP,CAAyBD,IAApC;;AACA,IAAIE,WAAW,GAAG,2FAAlB;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6BC,GAA7B,EAAkC;AAC9B,MAAIC,KAAK,GAAGD,GAAG,CAACE,KAAJ,CAAU,IAAV,CAAZ;AACA,MAAIC,OAAO,GAAG,CAAd;AACA,MAAIC,MAAM,GAAGH,KAAK,CAAC,CAAD,CAAL,CAASI,OAAT,CAAiBN,KAAK,CAACO,KAAvB,CAAb;AACA,MAAIC,OAAO,GAAGN,KAAK,CAAC,CAAD,CAAL,CAASI,OAAT,CAAiBN,KAAK,CAACS,IAAvB,CAAd;AACA,MAAIC,UAAU,GAAGR,KAAK,CAAC,CAAD,CAAL,CAASI,OAAT,CAAiBN,KAAK,CAACW,OAAvB,CAAjB;AACA,MAAIC,KAAK,GAAGV,KAAK,CAAC,CAAD,CAAL,CAASI,OAAT,CAAiBN,KAAK,CAACa,EAAvB,CAAZ;AACA,MAAIC,MAAM,GAAGZ,KAAK,CAAC,CAAD,CAAL,CAASI,OAAT,CAAiBN,KAAK,CAACe,QAAvB,CAAb,CAP8B,CAQ9B;;AAEA,MAAIC,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAIC,CAAC,GAAC,CAAN,EAAQC,CAAC,GAAChB,KAAK,CAACiB,MAArB,EAA6BF,CAAC,GAACC,CAA/B,EAAkCD,CAAC,EAAnC,EAAuC;AACnCD,IAAAA,KAAK,CAACI,IAAN,CAAW;AACP,aAAQlB,KAAK,CAACe,CAAD,CAAL,CAASI,MAAT,CAAgBhB,MAAhB,EAAwBG,OAAO,GAAGH,MAAlC,EAA0CiB,IAA1C,EADD;AAEP,cAASpB,KAAK,CAACe,CAAD,CAAL,CAASI,MAAT,CAAgB,CAAhB,EAAmBhB,MAAnB,EAA2BiB,IAA3B,EAFF;AAGP,iBAAYpB,KAAK,CAACe,CAAD,CAAL,CAASI,MAAT,CAAgBX,UAAhB,EAA4BE,KAAK,GAAGF,UAApC,EAAgDY,IAAhD,EAHL;AAIP,sBAAiBpB,KAAK,CAACe,CAAD,CAAL,CAASI,MAAT,CAAgBb,OAAhB,EAAyBE,UAAU,GAAGF,OAAtC,EAA+Cc,IAA/C,EAJV;AAKP,kBAAapB,KAAK,CAACe,CAAD,CAAL,CAASI,MAAT,CAAgBP,MAAhB,EAAwBQ,IAAxB;AALN,KAAX;AAOH;;AACDN,EAAAA,KAAK,CAACO,GAAN;AACA,SAAOP,KAAP;AACH;;AAED,SAASQ,IAAT,CAAcxB,KAAd,EAAqByB,QAArB,EAA+B;AAC3B7B,EAAAA,IAAI,CAACE,WAAW,GAAG,KAAf,EAAsB,UAAS4B,GAAT,EAAcC,MAAd,EAAsBC,MAAtB,EAA6B;AACnD,QAAIF,GAAJ,EAAS;AACLD,MAAAA,QAAQ,CAACC,GAAD,EAAM,IAAN,CAAR;AACA;AACH;;AACDD,IAAAA,QAAQ,CAAC,IAAD,EAAO1B,YAAY,CAACC,KAAD,EAAQ2B,MAAR,CAAnB,CAAR;AACH,GANG,CAAJ;AAOH;;AAEDE,OAAO,CAACL,IAAR,GAAeA,IAAf;AACAK,OAAO,CAACC,OAAR,GAAkBhC,WAAlB;AACA+B,OAAO,CAACE,KAAR,GAAgBhC,YAAhB","sourcesContent":["var exec = require('child_process').exec;\nvar macProvider = '/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport';\n\nfunction parseAirport(terms, str) {\n    var lines = str.split('\\n');\n    var colSsid = 0;\n    var colMac = lines[0].indexOf(terms.BSSID);\n    var colRssi = lines[0].indexOf(terms.RSSI);\n    var colChannel = lines[0].indexOf(terms.CHANNEL);\n    var colHt = lines[0].indexOf(terms.HT);\n    var colSec = lines[0].indexOf(terms.SECURITY);\n    //var colCC = lines[0].indexOf(terms.CC);\n\n    var wifis = [];\n    for (var i=1,l=lines.length; i<l; i++) {\n        wifis.push({\n            'mac' : lines[i].substr(colMac, colRssi - colMac).trim(),\n            'ssid' : lines[i].substr(0, colMac).trim(),\n            'channel' : lines[i].substr(colChannel, colHt - colChannel).trim(),\n            'signal_level' : lines[i].substr(colRssi, colChannel - colRssi).trim(),\n            'security' : lines[i].substr(colSec).trim()\n        });\n    }\n    wifis.pop();\n    return wifis;\n}\n\nfunction scan(terms, callback) {\n    exec(macProvider + ' -s', function(err, stdout, stderr){\n        if (err) {\n            callback(err, null);\n            return;\n        }\n        callback(null, parseAirport(terms, stdout));\n    });\n}\n\nexports.scan = scan;\nexports.utility = macProvider;\nexports.parse = parseAirport;\n"]},"metadata":{},"sourceType":"script"}