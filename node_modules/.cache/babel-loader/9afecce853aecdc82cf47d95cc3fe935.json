{"ast":null,"code":"var _jsxFileName = \"/home/radhouene/Bureau/admin/folder/VALENTANO/src/pages/examples/Signin.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faUnlockAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebookF, faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { Col, Row, Form, Card, Button, FormCheck, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { create, loginRagazo, loginUser } from \"../../featchers/UserOspita/userSlice\";\nimport { Detector } from \"react-detect-offline\";\nimport axios from \"axios\";\nimport SensorFusion from \"../AdjustPsotion/SensorFusion\";\nexport default (() => {\n  var _user$Role;\n\n  const [fusedPosition, setFusedPosition] = useState(null);\n  useEffect(() => {\n    // Initialize the Sensor Fusion instance with weights\n    const sensorFusion = new SensorFusion(); // Simulate sensor data updates (you'd receive real data in practice)\n\n    const gpsData = {\n      latitude: 40.7128,\n      longitude: -74.0060\n    };\n    const accelData = {\n      accelX: 0.01,\n      accelY: 0.02\n    }; // Update GPS and accelerometer data\n\n    sensorFusion.updateGPS(gpsData.latitude, gpsData.longitude);\n    sensorFusion.updateAccelerometer(accelData.accelX, accelData.accelY); // Perform sensor fusion\n\n    const fusedPosition = sensorFusion.fuse(); // Update the component state with the fused position data\n\n    setFusedPosition(fusedPosition);\n  }, []);\n  console.log(fusedPosition);\n  const [viewport, setViewport] = useState({\n    latitude: 51.505,\n    longitude: -0.09\n  });\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition(pos => {\n        const {\n          latitude,\n          longitude\n        } = pos.coords;\n        setViewport({ ...viewport,\n          latitude,\n          longitude\n        });\n      }, error => {\n        console.error(\"Error getting location:\", error);\n        setError(error.message);\n      });\n    } else {\n      setError(\"Geolocation is not supported by your browser.\");\n    }\n  }, []);\n  console.log(viewport); // navigator.geolocation.getCurrentPosition((post) => { console.log(post) })\n  // const index = async () => {\n  //   const res = await fetch('https://api.ipify.org?format=json')\n  //   console.log(res)\n  //   const data = await res.json()\n  //   console.log(data)\n  // }\n  // index()\n\n  const dispatch = useDispatch();\n  const [data, setData] = useState('');\n  const user = useSelector(create);\n  console.log(user);\n\n  const HandelOnchange = e => {\n    e.preventDefault();\n    setData({ ...data,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  console.log(data);\n\n  const handelLogin = e => {\n    e.preventDefault();\n    const isEmail = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(data.email);\n    console.log(isEmail);\n\n    if (!isEmail) {\n      dispatch(loginRagazo({\n        data,\n        viewport\n      }));\n    } else {\n      dispatch(loginUser({\n        data,\n        viewport\n      }));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card.Link, {\n    as: Link,\n    to: Routes.DashboardOverview.path,\n    className: \"text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAngleLeft,\n    className: \"me-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }), \" Back to homepage\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-center form-bg-image\",\n    style: {\n      backgroundImage: `url(${BgImage})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    className: \"d-flex align-items-center justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center text-md-center mb-4 mt-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, \"Sign in to our OSPITA o RAGAZZO\")), /*#__PURE__*/React.createElement(Form, {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    id: \"email\",\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, \"Your Email\"), /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEnvelope,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    autoFocus: true,\n    required: true,\n    type: \"email||text\",\n    onChange: HandelOnchange,\n    name: \"email\",\n    placeholder: \"example@company.com o codeFiscale\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    id: \"password\",\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 23\n    }\n  }, \"Your Password\"), /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faUnlockAlt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    onChange: HandelOnchange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between align-items-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card.Link, {\n    className: \"small text-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 23\n    }\n  }, \"Lost password?\"))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    className: \"w-100\",\n    onClick: handelLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 19\n    }\n  }, \"Sign in\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 mb-4 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fw-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 19\n    }\n  }, \"or login with\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-light\",\n    className: \"btn-icon-only btn-pill text-facebook me-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faFacebookF,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-light\",\n    className: \"btn-icon-only btn-pill text-twitter me-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTwitter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-light\",\n    className: \"btn-icon-only btn-pil text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faGithub,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center align-items-center mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fw-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 19\n    }\n  }, \"Not registered?\", /*#__PURE__*/React.createElement(Card.Link, {\n    as: Link,\n    to: (user === null || user === void 0 ? void 0 : (_user$Role = user.Role) === null || _user$Role === void 0 ? void 0 : _user$Role.includes('user')) === true ? Routes.Signup.path : Routes.registerPersonne.path,\n    className: \"fw-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 21\n    }\n  }, ` Create account `)))))))));\n});","map":{"version":3,"sources":["/home/radhouene/Bureau/admin/folder/VALENTANO/src/pages/examples/Signin.js"],"names":["React","useEffect","useState","FontAwesomeIcon","faAngleLeft","faEnvelope","faUnlockAlt","faFacebookF","faGithub","faTwitter","Col","Row","Form","Card","Button","FormCheck","Container","InputGroup","Link","Routes","useDispatch","useSelector","create","loginRagazo","loginUser","Detector","axios","SensorFusion","fusedPosition","setFusedPosition","sensorFusion","gpsData","latitude","longitude","accelData","accelX","accelY","updateGPS","updateAccelerometer","fuse","console","log","viewport","setViewport","error","setError","navigator","geolocation","getCurrentPosition","pos","coords","message","dispatch","data","setData","user","HandelOnchange","e","preventDefault","target","name","value","handelLogin","isEmail","test","email","DashboardOverview","path","backgroundImage","BgImage","Role","includes","Signup","registerPersonne"],"mappings":"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","sourcesContent":["\nimport React, { useEffect, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faUnlockAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebookF, faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { Col, Row, Form, Card, Button, FormCheck, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { create, loginRagazo, loginUser } from \"../../featchers/UserOspita/userSlice\";\n\nimport { Detector } from \"react-detect-offline\";\nimport axios from \"axios\";\nimport SensorFusion from \"../AdjustPsotion/SensorFusion\";\n\nexport default () => {\n\n  const [fusedPosition, setFusedPosition] = useState(null);\n\n  useEffect(() => {\n    // Initialize the Sensor Fusion instance with weights\n    const sensorFusion = new SensorFusion();\n\n    // Simulate sensor data updates (you'd receive real data in practice)\n    const gpsData = { latitude: 40.7128, longitude: -74.0060 }; \n    const accelData = { accelX: 0.01, accelY: 0.02 };\n\n    // Update GPS and accelerometer data\n    sensorFusion.updateGPS(gpsData.latitude, gpsData.longitude);\n    sensorFusion.updateAccelerometer(accelData.accelX, accelData.accelY);\n\n    // Perform sensor fusion\n    const fusedPosition = sensorFusion.fuse();\n\n    // Update the component state with the fused position data\n    setFusedPosition(fusedPosition);\n  }, []);\n\nconsole.log(fusedPosition)\n\n\n\n\n\n  const [viewport, setViewport] = useState({\n   \n    latitude: 51.505,\n    longitude: -0.09,\n   \n  });\n\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition(\n        pos => {\n          const { latitude, longitude } = pos.coords;\n          setViewport({\n            ...viewport,\n            latitude,\n            longitude,\n          });\n        },\n        error => {\n          console.error(\"Error getting location:\", error);\n          setError(error.message);\n        }\n      );\n    } else {\n      setError(\"Geolocation is not supported by your browser.\");\n    }\n  }, []);\n\n  console.log(viewport)\n  \n\n  \n\n  // navigator.geolocation.getCurrentPosition((post) => { console.log(post) })\n  // const index = async () => {\n\n  //   const res = await fetch('https://api.ipify.org?format=json')\n  //   console.log(res)\n  //   const data = await res.json()\n  //   console.log(data)\n  // }\n  // index()\n  const dispatch = useDispatch()\n  const [data, setData] = useState('')\n  const user = useSelector(create)\n  console.log(user)\n\n  const HandelOnchange = (e) => {\n    e.preventDefault()\n    setData({\n      ...data,\n      [e.target.name]: e.target.value\n    })\n\n  }\n  console.log(data)\n  const handelLogin = (e) => {\n    e.preventDefault()\n    const isEmail = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(data.email);\n    console.log(isEmail)\n    if (!isEmail) {\n      dispatch(loginRagazo({data,viewport}))\n    } else {\n\n      dispatch(loginUser({data,viewport}))\n    }\n\n  }\n  return (\n    <main>\n      <section className=\"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\">\n        <Container>\n          <p className=\"text-center\">\n            <Card.Link as={Link} to={Routes.DashboardOverview.path} className=\"text-gray-700\">\n              <FontAwesomeIcon icon={faAngleLeft} className=\"me-2\" /> Back to homepage\n            </Card.Link>\n          </p>\n          <Row className=\"justify-content-center form-bg-image\" style={{ backgroundImage: `url(${BgImage})` }}>\n            <Col xs={12} className=\"d-flex align-items-center justify-content-center\">\n              <div className=\"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\">\n                <div className=\"text-center text-md-center mb-4 mt-md-0\">\n                  <h3 className=\"mb-0\">Sign in to our OSPITA o RAGAZZO</h3>\n                </div>\n                <Form className=\"mt-4\">\n                  <Form.Group id=\"email\" className=\"mb-4\">\n                    <Form.Label>Your Email</Form.Label>\n                    <InputGroup>\n                      <InputGroup.Text>\n                        <FontAwesomeIcon icon={faEnvelope} />\n                      </InputGroup.Text>\n                      <Form.Control autoFocus required type=\"email||text\" onChange={HandelOnchange} name='email' placeholder=\"example@company.com o codeFiscale\" />\n                    </InputGroup>\n                  </Form.Group>\n                  <Form.Group>\n                    <Form.Group id=\"password\" className=\"mb-4\">\n                      <Form.Label>Your Password</Form.Label>\n                      <InputGroup>\n                        <InputGroup.Text>\n                          <FontAwesomeIcon icon={faUnlockAlt} />\n                        </InputGroup.Text>\n                        <Form.Control required type=\"password\" placeholder=\"Password\" name='password' onChange={HandelOnchange} />\n                      </InputGroup>\n                    </Form.Group>\n                    <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                      {/* <Form.Check type=\"checkbox\">\n                        <FormCheck.Input id=\"defaultCheck5\" className=\"me-2\" onChange={HandelOnchange} />\n                        <FormCheck.Label htmlFor=\"defaultCheck5\" className=\"mb-0\">Remember me</FormCheck.Label>\n                      </Form.Check> */}\n                      <Card.Link className=\"small text-end\">Lost password?</Card.Link>\n                    </div>\n                  </Form.Group>\n                  <Button variant=\"primary\" type=\"submit\" className=\"w-100\" onClick={handelLogin}>\n                    Sign in\n                  </Button>\n                </Form>\n\n                <div className=\"mt-3 mb-4 text-center\">\n                  <span className=\"fw-normal\">or login with</span>\n                </div>\n                <div className=\"d-flex justify-content-center my-4\">\n                  <Button variant=\"outline-light\" className=\"btn-icon-only btn-pill text-facebook me-2\">\n                    <FontAwesomeIcon icon={faFacebookF} />\n                  </Button>\n                  <Button variant=\"outline-light\" className=\"btn-icon-only btn-pill text-twitter me-2\">\n                    <FontAwesomeIcon icon={faTwitter} />\n                  </Button>\n                  <Button variant=\"outline-light\" className=\"btn-icon-only btn-pil text-dark\">\n                    <FontAwesomeIcon icon={faGithub} />\n                  </Button>\n                </div>\n                <div className=\"d-flex justify-content-center align-items-center mt-4\">\n                  <span className=\"fw-normal\">\n                    Not registered?\n                    <Card.Link as={Link} to={user?.Role?.includes('user') === true ? Routes.Signup.path : Routes.registerPersonne.path} className=\"fw-bold\">\n                      {\n                        ` Create account `\n                      }\n                    </Card.Link>\n                  </span>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </section>\n    </main>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}