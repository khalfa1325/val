{"ast":null,"code":"var _jsxFileName = \"/home/radhouene/Bureau/admin/folder/VALENTANO/src/pages/examples/Signin.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faUnlockAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebookF, faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { Col, Row, Form, Card, Button, FormCheck, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { create, loginRagazo, loginUser } from \"../../featchers/UserOspita/userSlice\";\nimport { Detector } from \"react-detect-offline\";\nimport axios from \"axios\";\nexport default (() => {\n  var _user$Role;\n\n  const [location, setLocation] = useState({\n    latitude: 51.505,\n    longitude: -0.09,\n    zoom: 13\n  });\n  const [placeData, setPlaceData] = useState(null);\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const {\n          latitude,\n          longitude\n        } = position.coords;\n        setLocation({\n          latitude,\n          longitude\n        }); // Call Nominatim API\n\n        axios.get(`https://nominatim.openstreetmap.org/reverse?lat=${latitude}&lon=${longitude}&format=json`).then(response => {\n          console.log(response);\n          const place = response.data;\n          setPlaceData({\n            name: place.display_name,\n            address: {\n              city: place.address.city || place.address.village || place.address.town || place.address.hamlet,\n              country: place.address.country\n            }\n          });\n        }).catch(error => {\n          console.error('Error fetching place data:', error);\n        });\n      });\n    }\n  }, []);\n  console.log(location);\n  console.log(placeData); // const index = async () => {\n  //   const res = await fetch('https://api.ipify.org?format=json')\n  //   console.log(res)\n  //   const data = await res.json()\n  //   console.log(data)\n  // }\n  // index()\n\n  const dispatch = useDispatch();\n  const [data, setData] = useState('');\n  const user = useSelector(create);\n  console.log(user);\n\n  const HandelOnchange = e => {\n    e.preventDefault();\n    setData({ ...data,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  console.log(data);\n\n  const handelLogin = e => {\n    e.preventDefault();\n    const isEmail = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(data.email);\n    console.log(isEmail);\n\n    if (!isEmail) {\n      dispatch(loginRagazo(data));\n    } else {\n      dispatch(loginUser(data));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card.Link, {\n    as: Link,\n    to: Routes.DashboardOverview.path,\n    className: \"text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faAngleLeft,\n    className: \"me-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }), \" Back to homepage\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-center form-bg-image\",\n    style: {\n      backgroundImage: `url(${BgImage})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    className: \"d-flex align-items-center justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center text-md-center mb-4 mt-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, \"Sign in to our OSPITA o RAGAZZO\")), /*#__PURE__*/React.createElement(Form, {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    id: \"email\",\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, \"Your Email\"), /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEnvelope,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    autoFocus: true,\n    required: true,\n    type: \"email||text\",\n    onChange: HandelOnchange,\n    name: \"email\",\n    placeholder: \"example@company.com o codeFiscale\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    id: \"password\",\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 23\n    }\n  }, \"Your Password\"), /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faUnlockAlt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    onChange: HandelOnchange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between align-items-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card.Link, {\n    className: \"small text-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 23\n    }\n  }, \"Lost password?\"))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    className: \"w-100\",\n    onClick: handelLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }, \"Sign in\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3 mb-4 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fw-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 19\n    }\n  }, \"or login with\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-light\",\n    className: \"btn-icon-only btn-pill text-facebook me-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faFacebookF,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-light\",\n    className: \"btn-icon-only btn-pill text-twitter me-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTwitter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-light\",\n    className: \"btn-icon-only btn-pil text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faGithub,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center align-items-center mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fw-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  }, \"Not registered?\", /*#__PURE__*/React.createElement(Card.Link, {\n    as: Link,\n    to: (user === null || user === void 0 ? void 0 : (_user$Role = user.Role) === null || _user$Role === void 0 ? void 0 : _user$Role.includes('user')) === true ? Routes.Signup.path : Routes.registerPersonne.path,\n    className: \"fw-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, ` Create account `)))))))));\n});","map":{"version":3,"sources":["/home/radhouene/Bureau/admin/folder/VALENTANO/src/pages/examples/Signin.js"],"names":["React","useEffect","useState","FontAwesomeIcon","faAngleLeft","faEnvelope","faUnlockAlt","faFacebookF","faGithub","faTwitter","Col","Row","Form","Card","Button","FormCheck","Container","InputGroup","Link","Routes","useDispatch","useSelector","create","loginRagazo","loginUser","Detector","axios","location","setLocation","latitude","longitude","zoom","placeData","setPlaceData","navigator","geolocation","getCurrentPosition","position","coords","get","then","response","console","log","place","data","name","display_name","address","city","village","town","hamlet","country","catch","error","dispatch","setData","user","HandelOnchange","e","preventDefault","target","value","handelLogin","isEmail","test","email","DashboardOverview","path","backgroundImage","BgImage","Role","includes","Signup","registerPersonne"],"mappings":"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","sourcesContent":["\nimport React, { useEffect, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faUnlockAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebookF, faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { Col, Row, Form, Card, Button, FormCheck, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { create, loginRagazo, loginUser } from \"../../featchers/UserOspita/userSlice\";\n\nimport { Detector } from \"react-detect-offline\";\nimport axios from \"axios\";\nexport default () => {\n  const [location, setLocation] = useState({\n  \n    latitude: 51.505,\n    longitude: -0.09,\n    zoom: 13,\n});\n\n\n  const [placeData, setPlaceData] = useState(null);\n\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const { latitude, longitude } = position.coords;\n        setLocation({ latitude, longitude });\n\n        // Call Nominatim API\n        axios.get(`https://nominatim.openstreetmap.org/reverse?lat=${latitude}&lon=${longitude}&format=json`)\n          .then(response => {\n            console.log(response)\n            const place = response.data;\n            setPlaceData({\n              name: place.display_name,\n              address: {\n                city: place.address.city || place.address.village || place.address.town || place.address.hamlet,\n                country: place.address.country\n              }\n            });\n          })\n          .catch(error => {\n            console.error('Error fetching place data:', error);\n          });\n      });\n    }\n  }, []);\n  console.log(location)\n  console.log(placeData)\n\n  // const index = async () => {\n\n  //   const res = await fetch('https://api.ipify.org?format=json')\n  //   console.log(res)\n  //   const data = await res.json()\n  //   console.log(data)\n  // }\n  // index()\n  const dispatch = useDispatch()\n  const [data, setData] = useState('')\n  const user = useSelector(create)\n  console.log(user)\n\n  const HandelOnchange = (e) => {\n    e.preventDefault()\n    setData({\n      ...data,\n      [e.target.name]: e.target.value\n    })\n\n  }\n  console.log(data)\n  const handelLogin = (e) => {\n    e.preventDefault()\n    const isEmail = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(data.email);\n    console.log(isEmail)\n    if (!isEmail) {\n\n      dispatch(loginRagazo(data))\n    } else {\n\n      dispatch(loginUser(data))\n    }\n\n  }\n  return (\n    <main>\n      <section className=\"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\">\n        <Container>\n          <p className=\"text-center\">\n            <Card.Link as={Link} to={Routes.DashboardOverview.path} className=\"text-gray-700\">\n              <FontAwesomeIcon icon={faAngleLeft} className=\"me-2\" /> Back to homepage\n            </Card.Link>\n          </p>\n          <Row className=\"justify-content-center form-bg-image\" style={{ backgroundImage: `url(${BgImage})` }}>\n            <Col xs={12} className=\"d-flex align-items-center justify-content-center\">\n              <div className=\"bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\">\n                <div className=\"text-center text-md-center mb-4 mt-md-0\">\n                  <h3 className=\"mb-0\">Sign in to our OSPITA o RAGAZZO</h3>\n                </div>\n                <Form className=\"mt-4\">\n                  <Form.Group id=\"email\" className=\"mb-4\">\n                    <Form.Label>Your Email</Form.Label>\n                    <InputGroup>\n                      <InputGroup.Text>\n                        <FontAwesomeIcon icon={faEnvelope} />\n                      </InputGroup.Text>\n                      <Form.Control autoFocus required type=\"email||text\" onChange={HandelOnchange} name='email' placeholder=\"example@company.com o codeFiscale\" />\n                    </InputGroup>\n                  </Form.Group>\n                  <Form.Group>\n                    <Form.Group id=\"password\" className=\"mb-4\">\n                      <Form.Label>Your Password</Form.Label>\n                      <InputGroup>\n                        <InputGroup.Text>\n                          <FontAwesomeIcon icon={faUnlockAlt} />\n                        </InputGroup.Text>\n                        <Form.Control required type=\"password\" placeholder=\"Password\" name='password' onChange={HandelOnchange} />\n                      </InputGroup>\n                    </Form.Group>\n                    <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                      {/* <Form.Check type=\"checkbox\">\n                        <FormCheck.Input id=\"defaultCheck5\" className=\"me-2\" onChange={HandelOnchange} />\n                        <FormCheck.Label htmlFor=\"defaultCheck5\" className=\"mb-0\">Remember me</FormCheck.Label>\n                      </Form.Check> */}\n                      <Card.Link className=\"small text-end\">Lost password?</Card.Link>\n                    </div>\n                  </Form.Group>\n                  <Button variant=\"primary\" type=\"submit\" className=\"w-100\" onClick={handelLogin}>\n                    Sign in\n                  </Button>\n                </Form>\n\n                <div className=\"mt-3 mb-4 text-center\">\n                  <span className=\"fw-normal\">or login with</span>\n                </div>\n                <div className=\"d-flex justify-content-center my-4\">\n                  <Button variant=\"outline-light\" className=\"btn-icon-only btn-pill text-facebook me-2\">\n                    <FontAwesomeIcon icon={faFacebookF} />\n                  </Button>\n                  <Button variant=\"outline-light\" className=\"btn-icon-only btn-pill text-twitter me-2\">\n                    <FontAwesomeIcon icon={faTwitter} />\n                  </Button>\n                  <Button variant=\"outline-light\" className=\"btn-icon-only btn-pil text-dark\">\n                    <FontAwesomeIcon icon={faGithub} />\n                  </Button>\n                </div>\n                <div className=\"d-flex justify-content-center align-items-center mt-4\">\n                  <span className=\"fw-normal\">\n                    Not registered?\n                    <Card.Link as={Link} to={user?.Role?.includes('user') === true ? Routes.Signup.path : Routes.registerPersonne.path} className=\"fw-bold\">\n                      {\n                        ` Create account `\n                      }\n                    </Card.Link>\n                  </span>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </section>\n    </main>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}